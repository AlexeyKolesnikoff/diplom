{% extends 'base_generic.html' %}
{% load static %}
{% block title %}
«Гребной канал «Дон»
{% endblock %}

{% block content %}



<img src="{% static 'img/header.png' %}" class = "start-img w-100 mb-3">




<div class="container ">
    <div class="card mt-5 mb-5">
        <img src="{% static 'img/desc.jpg' %}" class="card-img" alt="Изображение">
        <div class="card-body">
            <h5 class="card-title">ОБ ОРГАНИЗАЦИИ</h5>
            <p class="card-text">«Муниципальное бюджетное учреждение дополнительного образования «Спортивная школа г. Ростова-на-Дону «Гребной канал «Дон». Уникальное в своём роде спортивное сооружение, и для каждого оно своё. Для одних это место отдыха, для других – спортивная детско-юношеская школа, где проводится тренировочный процесс и готовится база для российских, мировых и олимпийских рекордов. Главное и общее для всех гостей Гребного канала – активное стремление к здоровому образу жизни. И попасть сюда очень просто: несколько минут от центра города. «Гребной канал «Дон» принимает региональные, национальные и международные соревнования, способствуя развитию спортивного мастерства и популяризации водных видов спорта в регионе.</p>
        </div>
    </div>

  
    <div id="carouselExampleIndicators" class="carousel slide mt-5 mb-5" data-ride="carousel" >
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'img/newssl1.jpg' %}" class="w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <h5 style = "font-family: 'Montserrat', sans-serif; font-size: 26px;"></h5>
                  <p style = "font-family: 'Montserrat', sans-serif;
                  font-size: 20px;">
                </div>
              </div>
              <div class="carousel-item">
                <img src="{% static 'img/newssl2.png' %}" class="w-100"  alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <h5 style = "font-family: 'Montserrat', sans-serif; font-size: 26px; font-weight: bold; ">ТУРНИР ПО АРМЕЙСКОМУ РУКОПАШНОМУ БОЮ
                  </h5>
                  <p style = "font-family: 'Montserrat', sans-serif;
                  font-size: 20px;">В Ростове завершился Всероссийский мастерский турнир по АРМЕЙСКОМУ РУКОПАШНОМУ БОЮ памяти генерал-лейтенанта Александра Николаевича Швецова.</p>
                </div>
              </div>
              <div class="carousel-item">
                <img src="{% static 'img/newssl3.png' %}" class="w-100"  alt="...">
                <div class="carousel-caption d-none d-md-block">
                  <h5 style = "font-family: 'Montserrat', sans-serif; font-size: 26px; font-weight: bold;">МОСКВА. ГРЕБЛЯ НА ЛОДКАХ КЛАССА «ДРАКОН».</h5>
                  <p style = "font-family: 'Montserrat', sans-serif;
                  font-size: 20px;">В Москве завершился Чемпионат (среди мужчин и женщин) и Первенство России среди юниоров и юниорок до 19 лет по гребле на лодках класса «Дракон».</p>
                </div>
              </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
        
      </div>

      <h2 class = "me-5">СПОРТИВНЫЕ ОБЪЕКТЫ</h2>







</div>

<script>
function init() {
  const slider = document.querySelector(".slider");
  const nextBtn = slider.querySelector(".slider .nav .next");
  const prevBtn = slider.querySelector(".slider .nav .prev");
  const items = slider.querySelectorAll(".slider .item");
  let current = 0;
  items.forEach((item) => {
      const textWrapper1 = item.querySelector(".item-title");
      textWrapper1.innerHTML = textWrapper1.textContent.replace(
          /\S/g,
          "<span class='letter'>$&</span>"
      );
      const textWrapper2 = item.querySelector(".item-text");
      textWrapper2.innerHTML = textWrapper2.textContent.replace(
          /\S/g,
          "<span class='letter'>$&</span>"
      );        
  });
  function anim(current, next, callback) {
      const currentImgs = current.querySelectorAll(".img");
      const currentText = current.querySelectorAll(".content .letter");
      const nextImgs = next.querySelectorAll(".img");
      const nextText = next.querySelectorAll(".content .letter");
      const duration = 400;
      const offset = "-=" + 300;
      const imgOffset = duration*.8;
      const tl = anime.timeline({
          easing: "easeInOutQuint",
          duration: duration,
          complete: callback
      });
      // Add children
      tl.add({
          targets: currentText,
          translateY: [0, '-150px'],
          opacity: [1, 0],
          easing: "easeInQuint",
          duration: 600,
          delay: 0
      })
      .add({
          targets: currentImgs[0],
          translateY: -600,
          rotate: [0, '-15deg'],
          opacity: [1, 0],
          easing: "easeInCubic"
      }, offset )
      .add({
          targets: currentImgs[1],
          translateY: -600,
          rotate: [0, '15deg'],
          opacity: [1, 0],
          easing: "easeInCubic"
      }, "-=" + imgOffset )
      .add({
          targets: currentImgs[2],
          translateY: -600,
          rotate: [0, '-15deg'],
          opacity: [1, 0],
          easing: "easeInCubic"
      }, "-=" + imgOffset )
      .add({
          targets: currentImgs[3],
          translateY: -600,
          rotate: [0, '15deg'],
          opacity: [1, 0],
          easing: "easeInCubic"
      }, "-=" + imgOffset )
      .add({
          targets: current,
          opacity: 0,
          duration: 10,
          easing: "easeInCubic"
      })
      .add({
          targets: next,
          opacity: 1,
          duration: 10
      }, offset )
      .add({
          targets: nextImgs[0],
          translateY: [600, 0],
          rotate: ['15deg', 0],
          opacity: [0, 1],
          easing: "easeOutCubic"
      }, offset )
      .add({
          targets: nextImgs[1],
          translateY: [600, 0],
          rotate: ['-15deg', 0],
          opacity: [0, 1],
          easing: "easeOutCubic"
      }, "-=" + imgOffset )
      .add({
          targets: nextImgs[2],
          translateY: [600, 0],
          rotate: ['15deg', 0],
          opacity: [0, 1],
          easing: "easeOutCubic"
      }, "-=" + imgOffset )
      .add({
          targets: nextImgs[3],
          translateY: [600, 0],
          rotate: ['-15deg', 0],
          opacity: [0, 1],
          easing: "easeOutCubic"
      }, "-=" + imgOffset )
      .add({
          targets: nextText,
          translateY: ['150px', 0],
          opacity: [0, 1],
          easing: "easeOutCubic",
          duration: 600,
          delay: (el, i) => 10 * (i + 1)
      }, offset );
  }
  let isPlaying = false;
  function updateSlider(newIndex) {
      const currentItem = items[current];
      const newItem = items[newIndex];
      function callback() {
          currentItem.classList.remove("is-active");
          newItem.classList.add("is-active");
          current = newIndex;
          isPlaying = false;
      }
      anim(currentItem, newItem, callback);
  }
  function next() {
      if (isPlaying) return;
      isPlaying = true;
      const newIndex = current === items.length - 1 ? 0 : current + 1;
      updateSlider(newIndex);
  }
  function prev() {
      if (isPlaying) return;
      isPlaying = true;
      const newIndex = current === 0 ? items.length - 1 : current - 1;
      updateSlider(newIndex);
  }
  nextBtn.onclick = next;
  prevBtn.onclick = prev;
}
document.addEventListener("DOMContentLoaded", init);
</script>

<div class="slider" mt-5>
  <div class="nav">
      <div class="prev">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>            
      </div>    
      <div class="next">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>                
      </div>
  </div>
  <div class="item is-active" style="background: #0A0E20;">
      <div class="content">
          <div class="item-title">«Гребной канал «Дон»</div>
          <div class="item-text">Место активного отдыха</div>
      </div>
      <div class="imgs">
          <div class="grid">
              <div class="img img-1">
                  <img src="{% static 'img/sport5.jpg' %}"/>
              </div>
              <div class="img img-2">
                  <img src="{% static 'img/sport2.jpg' %}"/>
              </div>
              <div class="img img-3">
                  <img src="{% static 'img/sport4.jpg' %}"/>
              </div>
              <div class="img img-4">
                  <img src="{% static 'img/sport9.jpg' %}"/>
              </div>
          </div>
      </div>
  </div>
  
  <!-- след слайды -->
  
  <div class="item" style="background: #042750">
      <div class="content">
          <div class="item-title">Спортивные объекты</div>
          <div class="item-text">Более 10 различных объектов</div>
      </div>
      <div class="imgs">
          <div class="grid">
              <div class="img img-1">
                  <img src="{% static 'img/desc.jpg' %}"/>
              </div>
              <div class="img img-2">
                  <img src="{% static 'img/sport7.jpg' %}"/>
              </div>
              <div class="img img-3">
                  <img src="{% static 'img/sport11.jpg' %}"/>
              </div>
              <div class="img img-4">
                  <img src="{% static 'img/sport6.jpg' %}"/>
              </div>
          </div>
      </div>
  </div>    
</div>


<div class = "container">
  <h2 class = "me-5">МЫ НА КАРТЕ</h2>
  <div class="map-container mb-5" style="width: 100%;">
    <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3Aa5d580e7bb6edb16f45cd79a0cc6e6b8af0a06fd2ecbad670311f9559f74714e&amp;source=constructor" 
            style="width: 100%; height: 50vh; max-height: 650px;" 
            frameborder="0"></iframe>
</div>
</div>








{% endblock %}